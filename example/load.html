<!DOCTYPE html>
<meta charset="utf-8">
<script src="../lib/d3.v4.min.js"></script>
<style> body{margin: 10px;}</style>

<h1> Load Data </h1>
<div id="description"></div>

<script>
var div = d3.select("#description");

div.append('p')
     .text("We will be using the international airport data from Openflight.org")

div.append('a')
     .attr("href", "https://openflights.org/data.html")
     .text("Openflights.org/data.html")

div.append("pre")
     .text("First row of the airport data");

d3.csv("../data/airports.csv", function(error, data) {
  if (error) console.log("error loading", error); 

  // Converting string to numbers
  data.forEach(function(d) {
    d.id = +d.id;
    d.latitude = +d.latitude;
    d.longitude = +d.longitude;
    d.altitude = +d.altitude;
    d.timezone = +d.timezone;
  });
  
  div.append("pre")
       .text(JSON.stringify(data[0], null, 2));
  console.log(data[0]);
  
});

// This does not work - data is not in scope
console.log("airports data is ", data[0])
</script>
